{"version":3,"file":"OpenApiExclusiveEmender.mjs","sources":["../../src/utils/OpenApiExclusiveEmender.ts"],"sourcesContent":["import { OpenApi } from \"../OpenApi\";\n\nexport namespace OpenApiExclusiveEmender {\n  export const emend = <\n    Schema extends Pick<\n      OpenApi.IJsonSchema.INumber,\n      \"exclusiveMinimum\" | \"exclusiveMaximum\" | \"minimum\" | \"maximum\"\n    >,\n  >(\n    schema: Schema,\n  ): Schema => {\n    const minimum =\n      typeof schema.minimum === \"number\" &&\n      typeof schema.exclusiveMinimum === \"number\"\n        ? {\n            minimum:\n              schema.minimum > schema.exclusiveMinimum\n                ? schema.minimum\n                : undefined,\n            exclusiveMinimum:\n              schema.minimum > schema.exclusiveMinimum\n                ? undefined\n                : schema.exclusiveMinimum,\n          }\n        : {};\n    const maximum =\n      typeof schema.maximum === \"number\" &&\n      typeof schema.exclusiveMaximum === \"number\"\n        ? {\n            maximum:\n              schema.maximum < schema.exclusiveMaximum\n                ? schema.maximum\n                : undefined,\n            exclusiveMaximum:\n              schema.maximum < schema.exclusiveMaximum\n                ? undefined\n                : schema.exclusiveMaximum,\n          }\n        : {};\n    return {\n      ...schema,\n      ...minimum,\n      ...maximum,\n    };\n  };\n}\n"],"names":["OpenApiExclusiveEmender","emend","schema","minimum","exclusiveMinimum","undefined","maximum","exclusiveMaximum"],"mappings":"AAEM,IAAWA;;CAAjB,SAAiBA;IACFA,wBAAAC,QAMXC;QAEA,MAAMC,iBACGD,OAAOC,YAAY,mBACnBD,OAAOE,qBAAqB,WAC/B;YACED,SACED,OAAOC,UAAUD,OAAOE,mBACpBF,OAAOC,UACPE;YACND,kBACEF,OAAOC,UAAUD,OAAOE,mBACpBC,YACAH,OAAOE;YAEf,CAAE;QACR,MAAME,iBACGJ,OAAOI,YAAY,mBACnBJ,OAAOK,qBAAqB,WAC/B;YACED,SACEJ,OAAOI,UAAUJ,OAAOK,mBACpBL,OAAOI,UACPD;YACNE,kBACEL,OAAOI,UAAUJ,OAAOK,mBACpBF,YACAH,OAAOK;YAEf,CAAE;QACR,OAAO;eACFL;eACAC;eACAG;;AACJ;AAEJ,EA3CD,CAAiBN,4BAAAA,0BA2ChB,CAAA;;"}