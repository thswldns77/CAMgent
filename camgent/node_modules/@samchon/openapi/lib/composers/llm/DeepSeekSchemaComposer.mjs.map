{"version":3,"file":"DeepSeekSchemaComposer.mjs","sources":["../../../src/composers/llm/DeepSeekSchemaComposer.ts"],"sourcesContent":["import { OpenApi } from \"../../OpenApi\";\nimport { IDeepSeekSchema } from \"../../structures/IDeepSeekSchema\";\nimport { ILlmFunction } from \"../../structures/ILlmFunction\";\nimport { IOpenApiSchemaError } from \"../../structures/IOpenApiSchemaError\";\nimport { IResult } from \"../../structures/IResult\";\nimport { LlmSchemaV3_1Composer } from \"./LlmSchemaV3_1Composer\";\n\nexport namespace DeepSeekSchemaComposer {\n  /** @internal */\n  export const IS_DEFS = true;\n\n  export const DEFAULT_CONFIG: IDeepSeekSchema.IConfig = {\n    reference: true,\n  };\n\n  export const parameters = (props: {\n    config: IDeepSeekSchema.IConfig;\n    components: OpenApi.IComponents;\n    schema: OpenApi.IJsonSchema.IObject | OpenApi.IJsonSchema.IReference;\n    accessor?: string;\n    refAccessor?: string;\n  }): IResult<IDeepSeekSchema.IParameters, IOpenApiSchemaError> =>\n    LlmSchemaV3_1Composer.parameters({\n      ...props,\n      config: {\n        reference: props.config.reference,\n        constraint: true,\n      },\n    });\n\n  export const schema = (props: {\n    config: IDeepSeekSchema.IConfig;\n    components: OpenApi.IComponents;\n    $defs: Record<string, IDeepSeekSchema>;\n    schema: OpenApi.IJsonSchema;\n    accessor?: string;\n    refAccessor?: string;\n  }): IResult<IDeepSeekSchema, IOpenApiSchemaError> =>\n    LlmSchemaV3_1Composer.schema({\n      ...props,\n      config: {\n        reference: props.config.reference,\n        constraint: true,\n      },\n    });\n\n  export const separateParameters = (props: {\n    parameters: IDeepSeekSchema.IParameters;\n    predicate: (schema: IDeepSeekSchema) => boolean;\n    convention?: (key: string, type: \"llm\" | \"human\") => string;\n    equals?: boolean;\n  }): ILlmFunction.ISeparated<\"deepseek\"> => {\n    const separated: ILlmFunction.ISeparated<\"3.1\"> =\n      LlmSchemaV3_1Composer.separateParameters(props);\n    return separated as any as ILlmFunction.ISeparated<\"deepseek\">;\n  };\n\n  export const invert = (props: {\n    components: OpenApi.IComponents;\n    schema: IDeepSeekSchema;\n    $defs: Record<string, IDeepSeekSchema>;\n  }): OpenApi.IJsonSchema => LlmSchemaV3_1Composer.invert(props);\n}\n"],"names":["DeepSeekSchemaComposer","IS_DEFS","DEFAULT_CONFIG","reference","parameters","props","LlmSchemaV3_1Composer","config","constraint","schema","separateParameters","separated","invert"],"mappings":";;AAOM,IAAWA;;CAAjB,SAAiBA;IAEFA,uBAAOC,UAAG;IAEVD,uBAAAE,iBAA0C;QACrDC,WAAW;;IAGAH,uBAAUI,aAAIC,SAOzBC,sBAAsBF,WAAW;WAC5BC;QACHE,QAAQ;YACNJ,WAAWE,MAAME,OAAOJ;YACxBK,YAAY;;;IAILR,uBAAMS,SAAIJ,SAQrBC,sBAAsBG,OAAO;WACxBJ;QACHE,QAAQ;YACNJ,WAAWE,MAAME,OAAOJ;YACxBK,YAAY;;;IAILR,uBAAAU,qBAAsBL;QAMjC,MAAMM,YACJL,sBAAsBI,mBAAmBL;QAC3C,OAAOM;AAAuD;IAGnDX,uBAAAY,SAAUP,SAIIC,sBAAsBM,OAAOP;AACzD,EAvDD,CAAiBL,2BAAAA,yBAuDhB,CAAA;;"}